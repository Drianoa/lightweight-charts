<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
	<title>Debug page</title>

	<script type="text/javascript" src="./dist/lightweight-charts.standalone.development.js"></script>
</head>

<body style="padding: 0; margin: 0;">
<div id="container" style="position: absolute; width: 100%; height: 100%;"></div>

<script type="text/javascript">
	function generateBar(i, target) {
		const step = (i % 20) / 1000;
		const base = i / 5;
		target.open = base * (1 - step);
		target.high = base * (1 + 2 * step);
		target.low = base * (1 - 2 * step);
		target.close = base * (1 + step);
	}

	function generateData() {
		const res = [];
		const time = new Date(Date.UTC(2020, 0, 1, 0, 0, 0, 0));
		for (let i = 0; i < 500; ++i) {
			const item = {
				time: time.getTime() / 1000,
			};
			time.setUTCHours(time.getUTCHours() + 1);

			generateBar(i, item);
			res.push(item);
		}
		return res;
	}

	var chart = LightweightCharts.createChart(document.getElementById('container'));
	chart.applyOptions({
		crosshair: {
			mode: LightweightCharts.CrosshairMode.Normal
		}, timeScale: {
			timeVisible: true
		}
	})

	var mainSeries = chart.addCandlestickSeries();

	mainSeries.setData(generateData());
</script>
</body>

</html>
